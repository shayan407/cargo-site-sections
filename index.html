<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
</head>
<body>
    <div class="hero-section swiper-1">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="swiper-slide-inner">
                    <h6 class="sub-heading">
                        <span class="svg">
                            <svg class="lqd-akar-icon w-1em h-auto lqd-menu-icon " xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M8 4l8 8-8 8"></path>
                            </svg>
                        </span>
                        International Logistics
                    </h6>

                    <div class="hero-content">
                        <h1>Easy Freight</h1>
                        <h1 class="second-h1">Booking</h1>
                        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Explicabo autem fugit magnam doloremque odit nemo?</p>
                    </div>

                    <div class="track-btn">
                        <span class="svg">
                            <svg class="lqd-akar-icon w-1em h-auto lqd-menu-icon " xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 20v-8m0 0V4m0 8h8m-8 0H4"></path>
                            </svg>
                        </span>
                        <span class="text">
                            Track Shipment
                        </span>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="swiper-slide-inner">
                    <h6 class="sub-heading">
                        <span class="svg">
                            <svg class="lqd-akar-icon w-1em h-auto lqd-menu-icon " xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M8 4l8 8-8 8"></path>
                            </svg>
                        </span>
                        International Logistics
                    </h6>

                    <div class="hero-content">
                        <h1>Easy Freight</h1>
                        <h1 class="second-h1">Booking</h1>
                        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Explicabo autem fugit magnam doloremque odit nemo?</p>
                    </div>

                    <div class="track-btn">
                        <span class="svg">
                            <svg class="lqd-akar-icon w-1em h-auto lqd-menu-icon " xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 20v-8m0 0V4m0 8h8m-8 0H4"></path>
                            </svg>
                        </span>
                        <span class="text">
                            Track Shipment
                        </span>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="swiper-slide-inner">
                    <h6 class="sub-heading">
                        <span class="svg">
                            <svg class="lqd-akar-icon w-1em h-auto lqd-menu-icon " xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M8 4l8 8-8 8"></path>
                            </svg>
                        </span>
                        International Logistics
                    </h6>

                    <div class="hero-content">
                        <h1>Easy Freight</h1>
                        <h1 class="second-h1">Booking</h1>
                        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Explicabo autem fugit magnam doloremque odit nemo?</p>
                    </div>

                    <div class="track-btn">
                        <span class="svg">
                            <svg class="lqd-akar-icon w-1em h-auto lqd-menu-icon " xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 20v-8m0 0V4m0 8h8m-8 0H4"></path>
                            </svg>
                        </span>
                        <span class="text">
                            Track Shipment
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="line-number-div">
            <span class="num num-end">03</span>
            <span class="line">
                <span class="line-inner"></span>
            </span>
            <span class="num num-start">01</span>
        </div>
            <div class="swiper-prev">
                    <svg height="800px" width="800px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    viewBox="0 0 223.413 223.413" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <polygon style="fill:#010002;" points="57.179,223.413 51.224,217.276 159.925,111.71 51.224,6.127 57.179,0 172.189,111.71 			
                                "/>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div class="swiper-next">
                <svg height="800px" width="800px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 223.413 223.413" xml:space="preserve" fill="#000000" transform="rotate(180)">
                    
                    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                    
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                    
                    <g id="SVGRepo_iconCarrier"> <g> <g> <g> <polygon style="fill:#010002;" points="57.179,223.413 51.224,217.276 159.925,111.71 51.224,6.127 57.179,0 172.189,111.71 "/> </g> </g> </g> </g>
                    
                </svg>
            </div>
    </div>

    <div class="image-change-section">
        <div class="image-change-section-inner-div">
            <div class="image-changing-text">
                <h6 class="sub-heading">Best Collection</h6>
                <ul class="image-text">
                    <li>Spring Summer 24</li>
                    <li>Essentials</li>
                    <li>Lookbook</li>
                    <li>Perfect Office Style</li>
                </ul>
            </div>
            <div class="image-changing-image">
                <img class="changing-images" src="/assets/bimage.webp" alt="">
            </div>
            <svg class="image-rotating-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 120 120" class="tab-vertical__textcircle">
                <defs>
                <path d="M 60, 60 m -60, 0 a 60,60 0 0,1 120,0 a 60,60 0 0,1 -120,0" id="txt-path"></path>
                </defs>
                <text>
                <textPath startOffset="0" xlink:href="#txt-path"> cadiant jewelry trending</textPath>
                </text>
            </svg>
        </div>
    </div>


    <div class="swiper-container-wrapper">
        <div class="slider-main swiper-2">
            <div class="swiper-wrapper">
                <div class="slider-card _1 swiper-slide">
                    <div class="slider-card-content">
                        <h3>Reliable Schedules</h3>
                        <p>At SwiftTrans, we are passionate about providing efficient and reliable logistics solutions that help our customers succeed.</p>
                    </div>
                </div>
                <div class="slider-card _2 swiper-slide">
                    <div class="slider-card-content">
                        <h3>Reliable Schedules</h3>
                        <p>At SwiftTrans, we are passionate about providing efficient and reliable logistics solutions that help our customers succeed.</p>
                    </div>
                </div>
                <div class="slider-card _3 swiper-slide">
                    <div class="slider-card-content">
                        <h3>Reliable Schedules</h3>
                        <p>At SwiftTrans, we are passionate about providing efficient and reliable logistics solutions that help our customers succeed.</p>
                    </div>
                </div>
                <div class="slider-card _4 swiper-slide">
                    <div class="slider-card-content">
                        <h3>Reliable Schedules</h3>
                        <p>At SwiftTrans, we are passionate about providing efficient and reliable logistics solutions that help our customers succeed.</p>
                    </div>
                </div>
                <div class="slider-card _5 swiper-slide">
                    <div class="slider-card-content">
                        <h3>Reliable Schedules</h3>
                        <p>At SwiftTrans, we are passionate about providing efficient and reliable logistics solutions that help our customers succeed.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-btn-next">
                <svg height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 223.413 223.413" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <polygon style="fill:#010002;" points="57.179,223.413 51.224,217.276 159.925,111.71 51.224,6.127 57.179,0 172.189,111.71 			
                                    "/>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div class="swiper-btn-prev">
                <svg height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 223.413 223.413" xml:space="preserve" fill="#000000" transform="rotate(180)">

                    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                    
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                    
                    <g id="SVGRepo_iconCarrier"> <g> <g> <g> <polygon style="fill:#010002;" points="57.179,223.413 51.224,217.276 159.925,111.71 51.224,6.127 57.179,0 172.189,111.71 "/> </g> </g> </g> </g>
                    
                </svg>
            </div>
        </div>
        <div class="slider-main swiper-hover-zones">
            <div class="swiper-wrapper hover-zones">
                <div class="swiper-slide hover-zone" data-index="0"></div>
                <div class="swiper-slide hover-zone" data-index="1"></div>
                <div class="swiper-slide hover-zone" data-index="2"></div>
                <div class="swiper-slide hover-zone" data-index="3"></div>
                <div class="swiper-slide hover-zone" data-index="4"></div>
            </div>
            <div class="swiper-btn-next">
                <svg height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 223.413 223.413" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <polygon style="fill:#010002;" points="57.179,223.413 51.224,217.276 159.925,111.71 51.224,6.127 57.179,0 172.189,111.71 			
                                    "/>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div class="swiper-btn-prev">
                <svg height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 223.413 223.413" xml:space="preserve" fill="#000000" transform="rotate(180)">

                    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                    
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                    
                    <g id="SVGRepo_iconCarrier"> <g> <g> <g> <polygon style="fill:#010002;" points="57.179,223.413 51.224,217.276 159.925,111.71 51.224,6.127 57.179,0 172.189,111.71 "/> </g> </g> </g> </g>
                    
                </svg>
            </div>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        let lineNumberStart = document.querySelector('.num-start');
        let lineNumberEnd = document.querySelector('.num-end');
        let line = document.querySelector('.line-inner');

        function updateLineAndNumber(swiperInstance) {
            const index = swiperInstance.realIndex + 1;
            console.log(index);
            
            const totalSlides = swiperInstance.slides.length;

            lineNumberStart.textContent = `0${index}`;
            lineNumberEnd.textContent = `0${swiperInstance.slides.length}`;

            const stepPercent = 100 / totalSlides;
            const heightPercent = stepPercent * (index);
            console.log(totalSlides,stepPercent,heightPercent);
            

            line.style.height = `${heightPercent}%`;
        }

        const heroSwiper = new Swiper('.swiper-1', {
            slidesPerView: 1,
            loop: true,
            // freeMode: true,

            navigation: {
                nextEl: '.swiper-next',
                prevEl: '.swiper-prev',
            },
            on: {
                init: function () {
                    updateLineAndNumber(this);
                },
                slideChange: function () {
                    updateLineAndNumber(this);
                }
            }
        });



        

        document.querySelector('.swiper-prev').classList.remove('swiper-button-disabled');


        const imgs = [
            '/assets/bimage.webp',
            '/assets/img-2.webp',
            '/assets/img-3.webp',
            '/assets/img-4.webp'
        ]

        let imgDiv = document.querySelector('.image-changing-image');
        let images = document.querySelectorAll('.changing-images');
        let imageText = document.querySelectorAll('.image-text li');
        console.log("image" ,images[0].attributes[1].nodeValue);

        images[0].src = imgs[0];
        imageText[0].classList.add('active');
        

        imageText.forEach((text,index) => {
            text.addEventListener('mouseover', () => {
                imageText.forEach(item => item.classList.remove('active'));
                text.classList.add('active')
                images[0].src = imgs[index];
            });
        });


        const cards = document.querySelectorAll('.slider-card');
        const swiper2Wrapper = document.querySelector('.swiper-2 .swiper-wrapper');
        const hoverZones = document.querySelectorAll('.hover-zone');
        let hoverTimeout;

        console.log(hoverZones);

        // Get translateX from element
        function getTranslateX(el) {
            const style = window.getComputedStyle(el);
            const matrix = new WebKitCSSMatrix(style.transform);
            return matrix.m41;
        }

        // Check if current screen is desktop
        function isDesktop() {
            return window.innerWidth > 1024;
        }

        // Get responsive base flex-basis (used on mouseleave to reset)
        function getResponsiveFlexBasis() {
            const width = window.innerWidth;
            if (width <= 1024 && width > 768) {
                return '50vw'; // tablet
            } else if (width <= 768) {
                return '100vw'; // mobile
            }
            return '25vw'; // desktop
        }

        
        let isTransitioning = false;
let pendingHoverIndex = null;

hoverZones.forEach((zone, index) => {
    zone.addEventListener('mouseenter', () => {
        if (!isDesktop()) return;

        if (isTransitioning) {
            // Store intended hover for after unlock
            pendingHoverIndex = index;
            return;
        }

        handleHover(index);
    });

    zone.addEventListener('mouseleave', () => {
        if (!isDesktop()) return;

        isTransitioning = true;

        const responsiveBasis = getResponsiveFlexBasis();
        cards.forEach(card => {
            card.style.flexBasis = responsiveBasis;
            card.style.flexGrow = '1';
            card.style.padding = '30px 30px';
            card.style.zIndex = '1';
            card.style.transform = 'translateX(0%)';
        });

        // After reset finishes, check if user is still hovering a new zone
        setTimeout(() => {
            isTransitioning = false;

            if (pendingHoverIndex !== null) {
                const idx = pendingHoverIndex;
                pendingHoverIndex = null;
                handleHover(idx);
            }
        }, 200); // adjust based on your transition duration
    });
});

function handleHover(index) {
    const translateX = getTranslateX(swiper2Wrapper);

    cards.forEach((card, i) => {
        if (i === index) {
            card.style.flexBasis = '100vw';
            card.style.flexGrow = '4';
            card.style.padding = '30px 30px';
            card.style.zIndex = '14';

            if (translateX < 0) {
                card.style.transform = 'translateX(25%)';
            } else {
                card.style.transform = 'translateX(0)';
            }
        } else {
            card.style.flexBasis = '0';
            card.style.flexGrow = '0';
            card.style.padding = '30px 0px';
            card.style.zIndex = '1';
            card.style.transform = 'translateX(0)';
        }
    });
}



        const swiper2 = new Swiper('.swiper-2', {
            slidesPerView: 4,
            loop: true,
            navigation: {
                nextEl: '.swiper-btn-next',
                prevEl: '.swiper-btn-prev',
            },
            breakpoints: {
                1024:{
                    slidesPerView: 4
                },
                768:{
                    slidesPerView: 2
                },
                320:{
                    slidesPerView: 1
                }
            }
        });

        const swiperHover = new Swiper('.swiper-hover-zones', {
            slidesPerView: 4,
            loop: true,
            navigation: {
                nextEl: '.swiper-btn-next',
                prevEl: '.swiper-btn-prev',
            },
            breakpoints: {
                1024:{
                    slidesPerView: 4
                },
                768:{
                    slidesPerView: 2
                },
                320:{
                    slidesPerView: 1
                }
            }
        });

        // Sync both swipers
        swiper2.controller.control = swiperHover;
        swiperHover.controller.control = swiper2;


    </script>
</body>
</html>